{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import{mergeProps as $dtb0o$mergeProps,filterDOMProps as $dtb0o$filterDOMProps}from\"@react-aria/utils\";import{useFocusable as $dtb0o$useFocusable}from\"@react-aria/focus\";import{usePress as $dtb0o$usePress}from\"@react-aria/interactions\";function $parcel$export(e,n,v,s){Object.defineProperty(e,n,{get:v,set:s,enumerable:true,configurable:true});}var $9f08aaca62c37bf3$exports={};$parcel$export($9f08aaca62c37bf3$exports,\"useToggle\",function(){return $9f08aaca62c37bf3$export$cbe85ee05b554577;});function $9f08aaca62c37bf3$export$cbe85ee05b554577(props,state,ref){var _props$isDisabled=props.isDisabled,isDisabled=_props$isDisabled===void 0?false:_props$isDisabled,isRequired=props.isRequired,isReadOnly=props.isReadOnly,value=props.value,name=props.name,children=props.children,ariaLabel=props['aria-label'],ariaLabelledby=props['aria-labelledby'],_props$validationStat=props.validationState,validationState=_props$validationStat===void 0?'valid':_props$validationStat;var onChange=function onChange(e){e.stopPropagation();state.setSelected(e.target.checked);};var hasChildren=children!=null;var hasAriaLabel=ariaLabel!=null||ariaLabelledby!=null;if(!hasChildren&&!hasAriaLabel)console.warn('If you do not provide children, you must specify an aria-label for accessibility');var _$dtb0o$usePress=$dtb0o$usePress({isDisabled:isDisabled}),pressProps=_$dtb0o$usePress.pressProps;var _$dtb0o$useFocusable=$dtb0o$useFocusable(props,ref),focusableProps=_$dtb0o$useFocusable.focusableProps;var interactions=$dtb0o$mergeProps(pressProps,focusableProps);var domProps=$dtb0o$filterDOMProps(props,{labelable:true});return{inputProps:$dtb0o$mergeProps(domProps,_objectSpread({'aria-invalid':validationState==='invalid'||undefined,'aria-errormessage':props['aria-errormessage'],'aria-controls':props['aria-controls'],'aria-readonly':isReadOnly||undefined,'aria-required':isRequired||undefined,onChange:onChange,disabled:isDisabled,value:value,name:name,type:'checkbox'},interactions))};}export{$9f08aaca62c37bf3$export$cbe85ee05b554577 as useToggle};","map":{"version":3,"sources":["packages/@react-aria/toggle/src/useToggle.ts"],"names":[],"mappings":"8zCA6BgB,CAAA,yC,CAAU,K,CAAwB,K,CAAoB,G,CAAyC,CAC7G,sBAUI,KAVJ,CAAK,UAAL,CACE,UADF,4BACe,KADf,mBAEE,UAFF,CAUI,KAVJ,CACoB,UADpB,CAGE,UAHF,CAUI,KAVJ,CAEY,UAFZ,CAIE,KAJF,CAUI,KAVJ,CAGY,KAHZ,CAKE,IALF,CAUI,KAVJ,CAIO,IAJP,CAME,QANF,CAUI,KAVJ,CAKM,QALN,CAOgB,SAPhB,CAUI,KAVJ,CAOE,YAPF,EAQqB,cARrB,CAUI,KAVJ,CAQE,iBARF,wBAUI,KAVJ,CAQmC,eARnC,CASE,eATF,gCASoB,OATpB,uBAYA,GAAI,CAAA,QAAQ,CAAA,QAAR,CAAA,QAAQ,CAAI,CAAJ,CAAU,CAGpB,CAAC,CAAC,eAAF,GACA,KAAK,CAAC,WAAN,CAAkB,CAAC,CAAC,MAAF,CAAS,OAA3B,EACD,CALD,CAOA,GAAI,CAAA,WAAW,CAAG,QAAQ,EAAI,IAA9B,CACA,GAAI,CAAA,YAAY,CAAG,SAAS,EAAI,IAAb,EAAqB,cAAc,EAAI,IAA1D,CACA,GAAE,CAAG,WAAH,EAAc,CAAK,YAArB,CACE,OAAO,CAAC,IAAR,CAAa,kFAAb,EAIF,qBAAmB,eAAQ,CAAC,C,WAC1B,UAD0B,CAAD,CAA3B,CAAK,UAAL,kBAAK,UAAL,CAIA,yBAAuB,mBAAY,CAAC,KAAD,CAAQ,GAAR,CAAnC,CAAK,cAAL,sBAAK,cAAL,CACA,GAAI,CAAA,YAAY,CAAG,iBAAU,CAAC,UAAD,CAAa,cAAb,CAA7B,CACA,GAAI,CAAA,QAAQ,CAAG,qBAAc,CAAC,KAAD,CAAQ,CAAC,SAAS,CAAE,IAAZ,CAAR,CAA7B,CAEA,MAAO,CACL,UAAU,CAAE,iBAAU,CAAC,QAAD,gBACpB,eAAgB,eAAe,GAAK,SAApB,EAAiC,SAD7B,CAEpB,oBAAqB,KAAK,CAAC,mBAAD,CAFN,CAGpB,gBAAiB,KAAK,CAAC,eAAD,CAHF,CAIpB,gBAAiB,UAAU,EAAI,SAJX,CAKpB,gBAAiB,UAAU,EAAI,SALX,C,SAMpB,QANoB,CAOpB,QAAQ,CAAE,UAPU,C,MAQpB,KARoB,C,KASpB,IAToB,CAUpB,IAAI,CAAE,UAVc,EAWjB,YAXiB,EADjB,CAAP,CAeD,C","sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaToggleProps} from '@react-types/checkbox';\nimport {filterDOMProps, mergeProps} from '@react-aria/utils';\nimport {InputHTMLAttributes, RefObject} from 'react';\nimport {ToggleState} from '@react-stately/toggle';\nimport {useFocusable} from '@react-aria/focus';\nimport {usePress} from '@react-aria/interactions';\n\nexport interface ToggleAria {\n  /**\n   * Props to be spread on the input element.\n   */\n  inputProps: InputHTMLAttributes<HTMLInputElement>\n}\n\n/**\n * Handles interactions for toggle elements, e.g. Checkboxes and Switches.\n */\nexport function useToggle(props: AriaToggleProps, state: ToggleState, ref: RefObject<HTMLElement>): ToggleAria {\n  let {\n    isDisabled = false,\n    isRequired,\n    isReadOnly,\n    value,\n    name,\n    children,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledby,\n    validationState = 'valid'\n  } = props;\n\n  let onChange = (e) => {\n    // since we spread props on label, onChange will end up there as well as in here.\n    // so we have to stop propagation at the lowest level that we care about\n    e.stopPropagation();\n    state.setSelected(e.target.checked);\n  };\n\n  let hasChildren = children != null;\n  let hasAriaLabel = ariaLabel != null || ariaLabelledby != null;\n  if (!hasChildren && !hasAriaLabel) {\n    console.warn('If you do not provide children, you must specify an aria-label for accessibility');\n  }\n\n  // This handles focusing the input on pointer down, which Safari does not do by default.\n  let {pressProps} = usePress({\n    isDisabled\n  });\n\n  let {focusableProps} = useFocusable(props, ref);\n  let interactions = mergeProps(pressProps, focusableProps);\n  let domProps = filterDOMProps(props, {labelable: true});\n\n  return {\n    inputProps: mergeProps(domProps, {\n      'aria-invalid': validationState === 'invalid' || undefined,\n      'aria-errormessage': props['aria-errormessage'],\n      'aria-controls': props['aria-controls'],\n      'aria-readonly': isReadOnly || undefined,\n      'aria-required': isRequired || undefined,\n      onChange,\n      disabled: isDisabled,\n      value,\n      name,\n      type: 'checkbox',\n      ...interactions\n    })\n  };\n}\n"]},"metadata":{},"sourceType":"module"}