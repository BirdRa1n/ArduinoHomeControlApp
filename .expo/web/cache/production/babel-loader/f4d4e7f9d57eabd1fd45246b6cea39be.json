{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";var _excluded=[\"ref\"],_excluded2=[\"children\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createForOfIteratorHelperLoose(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}import $6saFI$react,{useRef as $6saFI$useRef,useContext as $6saFI$useContext,useEffect as $6saFI$useEffect,useState as $6saFI$useState}from\"react\";import{useLayoutEffect as $6saFI$useLayoutEffect,runAfterTransition as $6saFI$runAfterTransition,focusWithoutScrolling as $6saFI$focusWithoutScrolling,mergeProps as $6saFI$mergeProps,useSyncRef as $6saFI$useSyncRef}from\"@react-aria/utils\";import{getInteractionModality as $6saFI$getInteractionModality,isFocusVisible as $6saFI$isFocusVisible,useFocusVisibleListener as $6saFI$useFocusVisibleListener,useFocus as $6saFI$useFocus,useFocusWithin as $6saFI$useFocusWithin,useKeyboard as $6saFI$useKeyboard}from\"@react-aria/interactions\";import $6saFI$clsx from\"clsx\";function $parcel$export(e,n,v,s){Object.defineProperty(e,n,{get:v,set:s,enumerable:true,configurable:true});}var $14e5c84cbc2e6e2e$exports={};$parcel$export($14e5c84cbc2e6e2e$exports,\"FocusScope\",function(){return $14e5c84cbc2e6e2e$export$20e40289641fbbb6;});$parcel$export($14e5c84cbc2e6e2e$exports,\"useFocusManager\",function(){return $14e5c84cbc2e6e2e$export$10c5169755ce7bd7;});$parcel$export($14e5c84cbc2e6e2e$exports,\"getFocusableTreeWalker\",function(){return $14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa;});$parcel$export($14e5c84cbc2e6e2e$exports,\"createFocusManager\",function(){return $14e5c84cbc2e6e2e$export$c5251b9e124bf29;});var $1159c3b6ba210e4f$exports={};$parcel$export($1159c3b6ba210e4f$exports,\"focusSafely\",function(){return $1159c3b6ba210e4f$export$80f3e147d781571c;});function $1159c3b6ba210e4f$export$80f3e147d781571c(element){if($6saFI$getInteractionModality()==='virtual'){var lastFocusedElement=document.activeElement;$6saFI$runAfterTransition(function(){if(document.activeElement===lastFocusedElement&&document.contains(element))$6saFI$focusWithoutScrolling(element);});}else $6saFI$focusWithoutScrolling(element);}function $985a2847ebcbb615$var$isStyleVisible(element){if(!(element instanceof HTMLElement)&&!(element instanceof SVGElement))return false;var _element$style=element.style,display=_element$style.display,visibility=_element$style.visibility;var isVisible=display!=='none'&&visibility!=='hidden'&&visibility!=='collapse';if(isVisible){var getComputedStyle=element.ownerDocument.defaultView.getComputedStyle;var _getComputedStyle=getComputedStyle(element),computedDisplay=_getComputedStyle.display,computedVisibility=_getComputedStyle.visibility;isVisible=computedDisplay!=='none'&&computedVisibility!=='hidden'&&computedVisibility!=='collapse';}return isVisible;}function $985a2847ebcbb615$var$isAttributeVisible(element,childElement){return!element.hasAttribute('hidden')&&(element.nodeName==='DETAILS'&&childElement&&childElement.nodeName!=='SUMMARY'?element.hasAttribute('open'):true);}function $985a2847ebcbb615$export$e989c0fffaa6b27a(element,childElement){return element.nodeName!=='#comment'&&$985a2847ebcbb615$var$isStyleVisible(element)&&$985a2847ebcbb615$var$isAttributeVisible(element,childElement)&&(!element.parentElement||$985a2847ebcbb615$export$e989c0fffaa6b27a(element.parentElement,element));}var $14e5c84cbc2e6e2e$var$FocusContext=$6saFI$react.createContext(null);var $14e5c84cbc2e6e2e$var$activeScope=null;var $14e5c84cbc2e6e2e$var$scopes=new Map();function $14e5c84cbc2e6e2e$export$20e40289641fbbb6(props){var children=props.children,contain=props.contain,restoreFocus=props.restoreFocus,autoFocus=props.autoFocus;var startRef=$6saFI$useRef();var endRef=$6saFI$useRef();var scopeRef=$6saFI$useRef([]);var ctx=$6saFI$useContext($14e5c84cbc2e6e2e$var$FocusContext);var parentScope=ctx===null||ctx===void 0?void 0:ctx.scopeRef;$6saFI$useLayoutEffect(function(){var node=startRef.current.nextSibling;var nodes=[];while(node&&node!==endRef.current){nodes.push(node);node=node.nextSibling;}scopeRef.current=nodes;},[children,parentScope]);$6saFI$useLayoutEffect(function(){$14e5c84cbc2e6e2e$var$scopes.set(scopeRef,parentScope);return function(){if((scopeRef===$14e5c84cbc2e6e2e$var$activeScope||$14e5c84cbc2e6e2e$var$isAncestorScope(scopeRef,$14e5c84cbc2e6e2e$var$activeScope))&&(!parentScope||$14e5c84cbc2e6e2e$var$scopes.has(parentScope)))$14e5c84cbc2e6e2e$var$activeScope=parentScope;$14e5c84cbc2e6e2e$var$scopes.delete(scopeRef);};},[scopeRef,parentScope]);$14e5c84cbc2e6e2e$var$useFocusContainment(scopeRef,contain);$14e5c84cbc2e6e2e$var$useRestoreFocus(scopeRef,restoreFocus,contain);$14e5c84cbc2e6e2e$var$useAutoFocus(scopeRef,autoFocus);var focusManager=$14e5c84cbc2e6e2e$var$createFocusManagerForScope(scopeRef);return $6saFI$react.createElement($14e5c84cbc2e6e2e$var$FocusContext.Provider,{value:{scopeRef:scopeRef,focusManager:focusManager}},$6saFI$react.createElement(\"span\",{\"data-focus-scope-start\":true,hidden:true,ref:startRef}),children,$6saFI$react.createElement(\"span\",{\"data-focus-scope-end\":true,hidden:true,ref:endRef}));}function $14e5c84cbc2e6e2e$export$10c5169755ce7bd7(){var ref;return(ref=$6saFI$useContext($14e5c84cbc2e6e2e$var$FocusContext))===null||ref===void 0?void 0:ref.focusManager;}function $14e5c84cbc2e6e2e$var$createFocusManagerForScope(scopeRef){return{focusNext:function focusNext(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var scope=scopeRef.current;var from=opts.from,tabbable=opts.tabbable,wrap=opts.wrap;var node=from||document.activeElement;var sentinel=scope[0].previousElementSibling;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa($14e5c84cbc2e6e2e$var$getScopeRoot(scope),{tabbable:tabbable},scope);walker.currentNode=$14e5c84cbc2e6e2e$var$isElementInScope(node,scope)?node:sentinel;var nextNode=walker.nextNode();if(!nextNode&&wrap){walker.currentNode=sentinel;nextNode=walker.nextNode();}if(nextNode)$14e5c84cbc2e6e2e$var$focusElement(nextNode,true);return nextNode;},focusPrevious:function focusPrevious(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var scope=scopeRef.current;var from=opts.from,tabbable=opts.tabbable,wrap=opts.wrap;var node=from||document.activeElement;var sentinel=scope[scope.length-1].nextElementSibling;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa($14e5c84cbc2e6e2e$var$getScopeRoot(scope),{tabbable:tabbable},scope);walker.currentNode=$14e5c84cbc2e6e2e$var$isElementInScope(node,scope)?node:sentinel;var previousNode=walker.previousNode();if(!previousNode&&wrap){walker.currentNode=sentinel;previousNode=walker.previousNode();}if(previousNode)$14e5c84cbc2e6e2e$var$focusElement(previousNode,true);return previousNode;},focusFirst:function focusFirst(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var scope=scopeRef.current;var tabbable=opts.tabbable;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa($14e5c84cbc2e6e2e$var$getScopeRoot(scope),{tabbable:tabbable},scope);walker.currentNode=scope[0].previousElementSibling;var nextNode=walker.nextNode();if(nextNode)$14e5c84cbc2e6e2e$var$focusElement(nextNode,true);return nextNode;},focusLast:function focusLast(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var scope=scopeRef.current;var tabbable=opts.tabbable;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa($14e5c84cbc2e6e2e$var$getScopeRoot(scope),{tabbable:tabbable},scope);walker.currentNode=scope[scope.length-1].nextElementSibling;var previousNode=walker.previousNode();if(previousNode)$14e5c84cbc2e6e2e$var$focusElement(previousNode,true);return previousNode;}};}var $14e5c84cbc2e6e2e$var$focusableElements=['input:not([disabled]):not([type=hidden])','select:not([disabled])','textarea:not([disabled])','button:not([disabled])','a[href]','area[href]','summary','iframe','object','embed','audio[controls]','video[controls]','[contenteditable]'];var $14e5c84cbc2e6e2e$var$FOCUSABLE_ELEMENT_SELECTOR=$14e5c84cbc2e6e2e$var$focusableElements.join(':not([hidden]),')+',[tabindex]:not([disabled]):not([hidden])';$14e5c84cbc2e6e2e$var$focusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');var $14e5c84cbc2e6e2e$var$TABBABLE_ELEMENT_SELECTOR=$14e5c84cbc2e6e2e$var$focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');function $14e5c84cbc2e6e2e$var$getScopeRoot(scope){return scope[0].parentElement;}function $14e5c84cbc2e6e2e$var$useFocusContainment(scopeRef,contain){var focusedNode=$6saFI$useRef();var raf=$6saFI$useRef(null);$6saFI$useLayoutEffect(function(){var scope1=scopeRef.current;if(!contain)return;var onKeyDown=function onKeyDown(e){if(e.key!=='Tab'||e.altKey||e.ctrlKey||e.metaKey||scopeRef!==$14e5c84cbc2e6e2e$var$activeScope)return;var focusedElement=document.activeElement;var scope=scopeRef.current;if(!$14e5c84cbc2e6e2e$var$isElementInScope(focusedElement,scope))return;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa($14e5c84cbc2e6e2e$var$getScopeRoot(scope),{tabbable:true},scope);walker.currentNode=focusedElement;var nextElement=e.shiftKey?walker.previousNode():walker.nextNode();if(!nextElement){walker.currentNode=e.shiftKey?scope[scope.length-1].nextElementSibling:scope[0].previousElementSibling;nextElement=e.shiftKey?walker.previousNode():walker.nextNode();}e.preventDefault();if(nextElement)$14e5c84cbc2e6e2e$var$focusElement(nextElement,true);};var onFocus=function onFocus(e){if(!$14e5c84cbc2e6e2e$var$activeScope||$14e5c84cbc2e6e2e$var$isAncestorScope($14e5c84cbc2e6e2e$var$activeScope,scopeRef)){$14e5c84cbc2e6e2e$var$activeScope=scopeRef;focusedNode.current=e.target;}else if(scopeRef===$14e5c84cbc2e6e2e$var$activeScope&&!$14e5c84cbc2e6e2e$var$isElementInChildScope(e.target,scopeRef)){if(focusedNode.current)focusedNode.current.focus();else if($14e5c84cbc2e6e2e$var$activeScope)$14e5c84cbc2e6e2e$var$focusFirstInScope($14e5c84cbc2e6e2e$var$activeScope.current);}else if(scopeRef===$14e5c84cbc2e6e2e$var$activeScope)focusedNode.current=e.target;};var onBlur=function onBlur(e){raf.current=requestAnimationFrame(function(){if(scopeRef===$14e5c84cbc2e6e2e$var$activeScope&&!$14e5c84cbc2e6e2e$var$isElementInChildScope(document.activeElement,scopeRef)){$14e5c84cbc2e6e2e$var$activeScope=scopeRef;focusedNode.current=e.target;focusedNode.current.focus();}});};document.addEventListener('keydown',onKeyDown,false);document.addEventListener('focusin',onFocus,false);scope1.forEach(function(element){return element.addEventListener('focusin',onFocus,false);});scope1.forEach(function(element){return element.addEventListener('focusout',onBlur,false);});return function(){document.removeEventListener('keydown',onKeyDown,false);document.removeEventListener('focusin',onFocus,false);scope1.forEach(function(element){return element.removeEventListener('focusin',onFocus,false);});scope1.forEach(function(element){return element.removeEventListener('focusout',onBlur,false);});};},[scopeRef,contain]);$6saFI$useEffect(function(){return function(){return cancelAnimationFrame(raf.current);};},[raf]);}function $14e5c84cbc2e6e2e$var$isElementInAnyScope(element){for(var _iterator=_createForOfIteratorHelperLoose($14e5c84cbc2e6e2e$var$scopes.keys()),_step;!(_step=_iterator()).done;){var scope=_step.value;if($14e5c84cbc2e6e2e$var$isElementInScope(element,scope.current))return true;}return false;}function $14e5c84cbc2e6e2e$var$isElementInScope(element,scope){return scope.some(function(node){return node.contains(element);});}function $14e5c84cbc2e6e2e$var$isElementInChildScope(element,scope){for(var _iterator2=_createForOfIteratorHelperLoose($14e5c84cbc2e6e2e$var$scopes.keys()),_step2;!(_step2=_iterator2()).done;){var s=_step2.value;if((s===scope||$14e5c84cbc2e6e2e$var$isAncestorScope(scope,s))&&$14e5c84cbc2e6e2e$var$isElementInScope(element,s.current))return true;}return false;}function $14e5c84cbc2e6e2e$var$isAncestorScope(ancestor,scope){var parent=$14e5c84cbc2e6e2e$var$scopes.get(scope);if(!parent)return false;if(parent===ancestor)return true;return $14e5c84cbc2e6e2e$var$isAncestorScope(ancestor,parent);}function $14e5c84cbc2e6e2e$var$focusElement(element){var scroll=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(element!=null&&!scroll)try{$1159c3b6ba210e4f$export$80f3e147d781571c(element);}catch(err){}else if(element!=null)try{element.focus();}catch(err1){}}function $14e5c84cbc2e6e2e$var$focusFirstInScope(scope){var sentinel=scope[0].previousElementSibling;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa($14e5c84cbc2e6e2e$var$getScopeRoot(scope),{tabbable:true},scope);walker.currentNode=sentinel;$14e5c84cbc2e6e2e$var$focusElement(walker.nextNode());}function $14e5c84cbc2e6e2e$var$useAutoFocus(scopeRef,autoFocus){var autoFocusRef=$6saFI$react.useRef(autoFocus);$6saFI$useEffect(function(){if(autoFocusRef.current){$14e5c84cbc2e6e2e$var$activeScope=scopeRef;if(!$14e5c84cbc2e6e2e$var$isElementInScope(document.activeElement,$14e5c84cbc2e6e2e$var$activeScope.current))$14e5c84cbc2e6e2e$var$focusFirstInScope(scopeRef.current);}autoFocusRef.current=false;},[]);}function $14e5c84cbc2e6e2e$var$useRestoreFocus(scopeRef,restoreFocus,contain){var nodeToRestoreRef=$6saFI$useRef(typeof document!=='undefined'?document.activeElement:null);$6saFI$useLayoutEffect(function(){var nodeToRestore=nodeToRestoreRef.current;if(!restoreFocus)return;var onKeyDown=function onKeyDown(e){if(e.key!=='Tab'||e.altKey||e.ctrlKey||e.metaKey)return;var focusedElement=document.activeElement;if(!$14e5c84cbc2e6e2e$var$isElementInScope(focusedElement,scopeRef.current))return;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa(document.body,{tabbable:true});walker.currentNode=focusedElement;var nextElement=e.shiftKey?walker.previousNode():walker.nextNode();if(!document.body.contains(nodeToRestore)||nodeToRestore===document.body)nodeToRestore=null;if((!nextElement||!$14e5c84cbc2e6e2e$var$isElementInScope(nextElement,scopeRef.current))&&nodeToRestore){walker.currentNode=nodeToRestore;do{nextElement=e.shiftKey?walker.previousNode():walker.nextNode();}while($14e5c84cbc2e6e2e$var$isElementInScope(nextElement,scopeRef.current));e.preventDefault();e.stopPropagation();if(nextElement)$14e5c84cbc2e6e2e$var$focusElement(nextElement,true);else if(!$14e5c84cbc2e6e2e$var$isElementInAnyScope(nodeToRestore))focusedElement.blur();else $14e5c84cbc2e6e2e$var$focusElement(nodeToRestore,true);}};if(!contain)document.addEventListener('keydown',onKeyDown,true);return function(){if(!contain)document.removeEventListener('keydown',onKeyDown,true);if(restoreFocus&&nodeToRestore&&$14e5c84cbc2e6e2e$var$isElementInScope(document.activeElement,scopeRef.current))requestAnimationFrame(function(){if(document.body.contains(nodeToRestore))$14e5c84cbc2e6e2e$var$focusElement(nodeToRestore);});};},[scopeRef,restoreFocus,contain]);}function $14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa(root,opts,scope){var selector=(opts===null||opts===void 0?void 0:opts.tabbable)?$14e5c84cbc2e6e2e$var$TABBABLE_ELEMENT_SELECTOR:$14e5c84cbc2e6e2e$var$FOCUSABLE_ELEMENT_SELECTOR;var walker=document.createTreeWalker(root,NodeFilter.SHOW_ELEMENT,{acceptNode:function acceptNode(node){var ref;if(opts===null||opts===void 0?void 0:(ref=opts.from)===null||ref===void 0?void 0:ref.contains(node))return NodeFilter.FILTER_REJECT;if(node.matches(selector)&&$985a2847ebcbb615$export$e989c0fffaa6b27a(node)&&(!scope||$14e5c84cbc2e6e2e$var$isElementInScope(node,scope)))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP;}});if(opts===null||opts===void 0?void 0:opts.from)walker.currentNode=opts.from;return walker;}function $14e5c84cbc2e6e2e$export$c5251b9e124bf29(ref){return{focusNext:function focusNext(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var root=ref.current;var from=opts.from,tabbable=opts.tabbable,wrap=opts.wrap;var node=from||document.activeElement;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa(root,{tabbable:tabbable});if(root.contains(node))walker.currentNode=node;var nextNode=walker.nextNode();if(!nextNode&&wrap){walker.currentNode=root;nextNode=walker.nextNode();}if(nextNode)$14e5c84cbc2e6e2e$var$focusElement(nextNode,true);return nextNode;},focusPrevious:function focusPrevious(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var root=ref.current;var from=opts.from,tabbable=opts.tabbable,wrap=opts.wrap;var node=from||document.activeElement;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa(root,{tabbable:tabbable});if(root.contains(node))walker.currentNode=node;else{var next=$14e5c84cbc2e6e2e$var$last(walker);if(next)$14e5c84cbc2e6e2e$var$focusElement(next,true);return next;}var previousNode=walker.previousNode();if(!previousNode&&wrap){walker.currentNode=root;previousNode=$14e5c84cbc2e6e2e$var$last(walker);}if(previousNode)$14e5c84cbc2e6e2e$var$focusElement(previousNode,true);return previousNode;},focusFirst:function focusFirst(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var root=ref.current;var tabbable=opts.tabbable;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa(root,{tabbable:tabbable});var nextNode=walker.nextNode();if(nextNode)$14e5c84cbc2e6e2e$var$focusElement(nextNode,true);return nextNode;},focusLast:function focusLast(){var opts=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var root=ref.current;var tabbable=opts.tabbable;var walker=$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa(root,{tabbable:tabbable});var next=$14e5c84cbc2e6e2e$var$last(walker);if(next)$14e5c84cbc2e6e2e$var$focusElement(next,true);return next;}};}function $14e5c84cbc2e6e2e$var$last(walker){var next;var last;do{last=walker.lastChild();if(last)next=last;}while(last);return next;}var $503734efc0922182$exports={};$parcel$export($503734efc0922182$exports,\"FocusRing\",function(){return $503734efc0922182$export$1a38b4ad7f578e1d;});var $e63d024ca16f2165$exports={};$parcel$export($e63d024ca16f2165$exports,\"useFocusRing\",function(){return $e63d024ca16f2165$export$4e328f61c538687f;});function $e63d024ca16f2165$export$4e328f61c538687f(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _props$autoFocus=props.autoFocus,autoFocus=_props$autoFocus===void 0?false:_props$autoFocus,isTextInput=props.isTextInput,within=props.within;var state=$6saFI$useRef({isFocused:false,isFocusVisible:autoFocus||$6saFI$isFocusVisible()}).current;var _$6saFI$useState=$6saFI$useState(false),_$6saFI$useState2=_slicedToArray(_$6saFI$useState,2),isFocused1=_$6saFI$useState2[0],setFocused=_$6saFI$useState2[1];var _$6saFI$useState3=$6saFI$useState(function(){return state.isFocused&&state.isFocusVisible;}),_$6saFI$useState4=_slicedToArray(_$6saFI$useState3,2),isFocusVisibleState=_$6saFI$useState4[0],setFocusVisible=_$6saFI$useState4[1];var updateState=function updateState(){return setFocusVisible(state.isFocused&&state.isFocusVisible);};var onFocusChange=function onFocusChange(isFocused){state.isFocused=isFocused;setFocused(isFocused);updateState();};$6saFI$useFocusVisibleListener(function(isFocusVisible){state.isFocusVisible=isFocusVisible;updateState();},[],{isTextInput:isTextInput});var _$6saFI$useFocus=$6saFI$useFocus({isDisabled:within,onFocusChange:onFocusChange}),focusProps=_$6saFI$useFocus.focusProps;var _$6saFI$useFocusWithi=$6saFI$useFocusWithin({isDisabled:!within,onFocusWithinChange:onFocusChange}),focusWithinProps=_$6saFI$useFocusWithi.focusWithinProps;return{isFocused:isFocused1,isFocusVisible:state.isFocused&&isFocusVisibleState,focusProps:within?focusWithinProps:focusProps};}function $503734efc0922182$export$1a38b4ad7f578e1d(props){var _$6saFI$clsx;var children=props.children,focusClass=props.focusClass,focusRingClass=props.focusRingClass;var _$e63d024ca16f2165$ex=$e63d024ca16f2165$export$4e328f61c538687f(props),isFocused=_$e63d024ca16f2165$ex.isFocused,isFocusVisible=_$e63d024ca16f2165$ex.isFocusVisible,focusProps=_$e63d024ca16f2165$ex.focusProps;var child=$6saFI$react.Children.only(children);return $6saFI$react.cloneElement(child,$6saFI$mergeProps(child.props,_objectSpread(_objectSpread({},focusProps),{},{className:$6saFI$clsx((_$6saFI$clsx={},_defineProperty(_$6saFI$clsx,focusClass||'',isFocused),_defineProperty(_$6saFI$clsx,focusRingClass||'',isFocusVisible),_$6saFI$clsx))})));}var $391c6482f25a1991$exports={};$parcel$export($391c6482f25a1991$exports,\"FocusableProvider\",function(){return $391c6482f25a1991$export$13f3202a3e5ddd5;});$parcel$export($391c6482f25a1991$exports,\"useFocusable\",function(){return $391c6482f25a1991$export$4c014de7c8940b4c;});var $391c6482f25a1991$var$FocusableContext=$6saFI$react.createContext(null);function $391c6482f25a1991$var$useFocusableContext(ref){var context=$6saFI$useContext($391c6482f25a1991$var$FocusableContext)||{};$6saFI$useSyncRef(context,ref);var _=context.ref,otherProps=_objectWithoutProperties(context,_excluded);return otherProps;}function $391c6482f25a1991$var$FocusableProvider(props,ref){var children=props.children,otherProps=_objectWithoutProperties(props,_excluded2);var context=_objectSpread(_objectSpread({},otherProps),{},{ref:ref});return $6saFI$react.createElement($391c6482f25a1991$var$FocusableContext.Provider,{value:context},children);}var $391c6482f25a1991$export$13f3202a3e5ddd5=$6saFI$react.forwardRef($391c6482f25a1991$var$FocusableProvider);function $391c6482f25a1991$export$4c014de7c8940b4c(props,domRef){var _$6saFI$useFocus2=$6saFI$useFocus(props),focusProps=_$6saFI$useFocus2.focusProps;var _$6saFI$useKeyboard=$6saFI$useKeyboard(props),keyboardProps=_$6saFI$useKeyboard.keyboardProps;var interactions=$6saFI$mergeProps(focusProps,keyboardProps);var domProps=$391c6482f25a1991$var$useFocusableContext(domRef);var interactionProps=props.isDisabled?{}:domProps;var autoFocusRef=$6saFI$useRef(props.autoFocus);$6saFI$useEffect(function(){if(autoFocusRef.current&&domRef.current)domRef.current.focus();autoFocusRef.current=false;},[]);return{focusableProps:$6saFI$mergeProps(_objectSpread(_objectSpread({},interactions),{},{tabIndex:props.excludeFromTabOrder&&!props.isDisabled?-1:undefined}),interactionProps)};}export{$14e5c84cbc2e6e2e$export$20e40289641fbbb6 as FocusScope,$14e5c84cbc2e6e2e$export$10c5169755ce7bd7 as useFocusManager,$14e5c84cbc2e6e2e$export$2d6ec8fc375ceafa as getFocusableTreeWalker,$14e5c84cbc2e6e2e$export$c5251b9e124bf29 as createFocusManager,$503734efc0922182$export$1a38b4ad7f578e1d as FocusRing,$391c6482f25a1991$export$13f3202a3e5ddd5 as FocusableProvider,$391c6482f25a1991$export$4c014de7c8940b4c as useFocusable,$e63d024ca16f2165$export$4e328f61c538687f as useFocusRing,$1159c3b6ba210e4f$export$80f3e147d781571c as focusSafely};","map":{"version":3,"sources":["packages/@react-aria/focus/src/FocusScope.tsx","packages/@react-aria/focus/src/focusSafely.ts","packages/@react-aria/focus/src/isElementVisible.ts","packages/@react-aria/focus/src/FocusRing.tsx","packages/@react-aria/focus/src/useFocusRing.ts","packages/@react-aria/focus/src/useFocusable.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusSafely} from './focusSafely';\nimport {isElementVisible} from './isElementVisible';\nimport React, {ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\n\n// import {FocusScope, useFocusScope} from 'react-events/focus-scope';\n// export {FocusScope};\n\ninterface FocusScopeProps {\n  /** The contents of the focus scope. */\n  children: ReactNode,\n\n  /**\n   * Whether to contain focus inside the scope, so users cannot\n   * move focus outside, for example in a modal dialog.\n   */\n  contain?: boolean,\n\n  /**\n   * Whether to restore focus back to the element that was focused\n   * when the focus scope mounted, after the focus scope unmounts.\n   */\n  restoreFocus?: boolean,\n\n  /** Whether to auto focus the first focusable element in the focus scope on mount. */\n  autoFocus?: boolean\n}\n\ninterface FocusManagerOptions {\n  /** The element to start searching from. The currently focused element by default. */\n  from?: HTMLElement,\n  /** Whether to only include tabbable elements, or all focusable elements. */\n  tabbable?: boolean,\n  /** Whether focus should wrap around when it reaches the end of the scope. */\n  wrap?: boolean\n}\n\ninterface FocusManager {\n  /** Moves focus to the next focusable or tabbable element in the focus scope. */\n  focusNext(opts?: FocusManagerOptions): HTMLElement,\n  /** Moves focus to the previous focusable or tabbable element in the focus scope. */\n  focusPrevious(opts?: FocusManagerOptions): HTMLElement,\n  /** Moves focus to the first focusable or tabbable element in the focus scope. */\n  focusFirst(opts?: FocusManagerOptions): HTMLElement,\n    /** Moves focus to the last focusable or tabbable element in the focus scope. */\n  focusLast(opts?: FocusManagerOptions): HTMLElement\n}\n\ntype ScopeRef = RefObject<HTMLElement[]>;\ninterface IFocusContext {\n  scopeRef: ScopeRef,\n  focusManager: FocusManager\n}\n\nconst FocusContext = React.createContext<IFocusContext>(null);\n\nlet activeScope: ScopeRef = null;\nlet scopes: Map<ScopeRef, ScopeRef | null> = new Map();\n\n// This is a hacky DOM-based implementation of a FocusScope until this RFC lands in React:\n// https://github.com/reactjs/rfcs/pull/109\n// For now, it relies on the DOM tree order rather than the React tree order, and is probably\n// less optimized for performance.\n\n/**\n * A FocusScope manages focus for its descendants. It supports containing focus inside\n * the scope, restoring focus to the previously focused element on unmount, and auto\n * focusing children on mount. It also acts as a container for a programmatic focus\n * management interface that can be used to move focus forward and back in response\n * to user events.\n */\nexport function FocusScope(props: FocusScopeProps) {\n  let {children, contain, restoreFocus, autoFocus} = props;\n  let startRef = useRef<HTMLSpanElement>();\n  let endRef = useRef<HTMLSpanElement>();\n  let scopeRef = useRef<HTMLElement[]>([]);\n  let ctx = useContext(FocusContext);\n  let parentScope = ctx?.scopeRef;\n\n  useLayoutEffect(() => {\n    // Find all rendered nodes between the sentinels and add them to the scope.\n    let node = startRef.current.nextSibling;\n    let nodes = [];\n    while (node && node !== endRef.current) {\n      nodes.push(node);\n      node = node.nextSibling;\n    }\n\n    scopeRef.current = nodes;\n  }, [children, parentScope]);\n\n  useLayoutEffect(() => {\n    scopes.set(scopeRef, parentScope);\n    return () => {\n      // Restore the active scope on unmount if this scope or a descendant scope is active.\n      // Parent effect cleanups run before children, so we need to check if the\n      // parent scope actually still exists before restoring the active scope to it.\n      if (\n        (scopeRef === activeScope || isAncestorScope(scopeRef, activeScope)) &&\n        (!parentScope || scopes.has(parentScope))\n      ) {\n        activeScope = parentScope;\n      }\n      scopes.delete(scopeRef);\n    };\n  }, [scopeRef, parentScope]);\n\n  useFocusContainment(scopeRef, contain);\n  useRestoreFocus(scopeRef, restoreFocus, contain);\n  useAutoFocus(scopeRef, autoFocus);\n\n  let focusManager = createFocusManagerForScope(scopeRef);\n\n  return (\n    <FocusContext.Provider value={{scopeRef, focusManager}}>\n      <span data-focus-scope-start hidden ref={startRef} />\n      {children}\n      <span data-focus-scope-end hidden ref={endRef} />\n    </FocusContext.Provider>\n  );\n}\n\n/**\n * Returns a FocusManager interface for the parent FocusScope.\n * A FocusManager can be used to programmatically move focus within\n * a FocusScope, e.g. in response to user events like keyboard navigation.\n */\nexport function useFocusManager(): FocusManager {\n  return useContext(FocusContext)?.focusManager;\n}\n\nfunction createFocusManagerForScope(scopeRef: React.RefObject<HTMLElement[]>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[0].previousElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let nextNode = walker.nextNode() as HTMLElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = sentinel;\n        nextNode = walker.nextNode() as HTMLElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let scope = scopeRef.current;\n      let {from, tabbable, wrap} = opts;\n      let node = from || document.activeElement;\n      let sentinel = scope[scope.length - 1].nextElementSibling;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n      walker.currentNode = isElementInScope(node, scope) ? node : sentinel;\n      let previousNode = walker.previousNode() as HTMLElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = sentinel;\n        previousNode = walker.previousNode() as HTMLElement;\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n      walker.currentNode = scope[0].previousElementSibling;\n      let nextNode = walker.nextNode() as HTMLElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let scope = scopeRef.current;\n      let {tabbable} = opts;\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable}, scope);\n      walker.currentNode = scope[scope.length - 1].nextElementSibling;\n      let previousNode = walker.previousNode() as HTMLElement;\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    }\n  };\n}\n\nconst focusableElements = [\n  'input:not([disabled]):not([type=hidden])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n  'button:not([disabled])',\n  'a[href]',\n  'area[href]',\n  'summary',\n  'iframe',\n  'object',\n  'embed',\n  'audio[controls]',\n  'video[controls]',\n  '[contenteditable]'\n];\n\nconst FOCUSABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]),') + ',[tabindex]:not([disabled]):not([hidden])';\n\nfocusableElements.push('[tabindex]:not([tabindex=\"-1\"]):not([disabled])');\nconst TABBABLE_ELEMENT_SELECTOR = focusableElements.join(':not([hidden]):not([tabindex=\"-1\"]),');\n\nfunction getScopeRoot(scope: HTMLElement[]) {\n  return scope[0].parentElement;\n}\n\nfunction useFocusContainment(scopeRef: RefObject<HTMLElement[]>, contain: boolean) {\n  let focusedNode = useRef<HTMLElement>();\n\n  let raf = useRef(null);\n  useLayoutEffect(() => {\n    let scope = scopeRef.current;\n    if (!contain) {\n      return;\n    }\n\n    // Handle the Tab key to contain focus within the scope\n    let onKeyDown = (e) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey || scopeRef !== activeScope) {\n        return;\n      }\n\n      let focusedElement = document.activeElement as HTMLElement;\n      let scope = scopeRef.current;\n      if (!isElementInScope(focusedElement, scope)) {\n        return;\n      }\n\n      let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: true}, scope);\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as HTMLElement;\n      if (!nextElement) {\n        walker.currentNode = e.shiftKey ? scope[scope.length - 1].nextElementSibling : scope[0].previousElementSibling;\n        nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode())  as HTMLElement;\n      }\n\n      e.preventDefault();\n      if (nextElement) {\n        focusElement(nextElement, true);\n      }\n    };\n\n    let onFocus = (e) => {\n      // If focusing an element in a child scope of the currently active scope, the child becomes active.\n      // Moving out of the active scope to an ancestor is not allowed.\n      if (!activeScope || isAncestorScope(activeScope, scopeRef)) {\n        activeScope = scopeRef;\n        focusedNode.current = e.target;\n      } else if (scopeRef === activeScope && !isElementInChildScope(e.target, scopeRef)) {\n        // If a focus event occurs outside the active scope (e.g. user tabs from browser location bar),\n        // restore focus to the previously focused node or the first tabbable element in the active scope.\n        if (focusedNode.current) {\n          focusedNode.current.focus();\n        } else if (activeScope) {\n          focusFirstInScope(activeScope.current);\n        }\n      } else if (scopeRef === activeScope) {\n        focusedNode.current = e.target;\n      }\n    };\n\n    let onBlur = (e) => {\n      // Firefox doesn't shift focus back to the Dialog properly without this\n      raf.current = requestAnimationFrame(() => {\n        // Use document.activeElement instead of e.relatedTarget so we can tell if user clicked into iframe\n        if (scopeRef === activeScope && !isElementInChildScope(document.activeElement, scopeRef)) {\n          activeScope = scopeRef;\n          focusedNode.current = e.target;\n          focusedNode.current.focus();\n        }\n      });\n    };\n\n    document.addEventListener('keydown', onKeyDown, false);\n    document.addEventListener('focusin', onFocus, false);\n    scope.forEach(element => element.addEventListener('focusin', onFocus, false));\n    scope.forEach(element => element.addEventListener('focusout', onBlur, false));\n    return () => {\n      document.removeEventListener('keydown', onKeyDown, false);\n      document.removeEventListener('focusin', onFocus, false);\n      scope.forEach(element => element.removeEventListener('focusin', onFocus, false));\n      scope.forEach(element => element.removeEventListener('focusout', onBlur, false));\n    };\n  }, [scopeRef, contain]);\n\n  // eslint-disable-next-line arrow-body-style\n  useEffect(() => {\n    return () => cancelAnimationFrame(raf.current);\n  }, [raf]);\n}\n\nfunction isElementInAnyScope(element: Element) {\n  for (let scope of scopes.keys()) {\n    if (isElementInScope(element, scope.current)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isElementInScope(element: Element, scope: HTMLElement[]) {\n  return scope.some(node => node.contains(element));\n}\n\nfunction isElementInChildScope(element: Element, scope: ScopeRef) {\n  // node.contains in isElementInScope covers child scopes that are also DOM children,\n  // but does not cover child scopes in portals.\n  for (let s of scopes.keys()) {\n    if ((s === scope || isAncestorScope(scope, s)) && isElementInScope(element, s.current)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isAncestorScope(ancestor: ScopeRef, scope: ScopeRef) {\n  let parent = scopes.get(scope);\n  if (!parent) {\n    return false;\n  }\n\n  if (parent === ancestor) {\n    return true;\n  }\n\n  return isAncestorScope(ancestor, parent);\n}\n\nfunction focusElement(element: HTMLElement | null, scroll = false) {\n  if (element != null && !scroll) {\n    try {\n      focusSafely(element);\n    } catch (err) {\n      // ignore\n    }\n  } else if (element != null) {\n    try {\n      element.focus();\n    } catch (err) {\n      // ignore\n    }\n  }\n}\n\nfunction focusFirstInScope(scope: HTMLElement[]) {\n  let sentinel = scope[0].previousElementSibling;\n  let walker = getFocusableTreeWalker(getScopeRoot(scope), {tabbable: true}, scope);\n  walker.currentNode = sentinel;\n  focusElement(walker.nextNode() as HTMLElement);\n}\n\nfunction useAutoFocus(scopeRef: RefObject<HTMLElement[]>, autoFocus: boolean) {\n  const autoFocusRef = React.useRef(autoFocus);\n  useEffect(() => {\n    if (autoFocusRef.current) {\n      activeScope = scopeRef;\n      if (!isElementInScope(document.activeElement, activeScope.current)) {\n        focusFirstInScope(scopeRef.current);\n      }\n    }\n    autoFocusRef.current = false;\n  }, []);\n}\n\nfunction useRestoreFocus(scopeRef: RefObject<HTMLElement[]>, restoreFocus: boolean, contain: boolean) {\n  // create a ref during render instead of useLayoutEffect so the active element is saved before a child with autoFocus=true mounts.\n  const nodeToRestoreRef = useRef(typeof document !== 'undefined' ? document.activeElement as HTMLElement : null);\n\n  // useLayoutEffect instead of useEffect so the active element is saved synchronously instead of asynchronously.\n  useLayoutEffect(() => {\n    let nodeToRestore = nodeToRestoreRef.current;\n    if (!restoreFocus) {\n      return;\n    }\n\n    // Handle the Tab key so that tabbing out of the scope goes to the next element\n    // after the node that had focus when the scope mounted. This is important when\n    // using portals for overlays, so that focus goes to the expected element when\n    // tabbing out of the overlay.\n    let onKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab' || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n\n      let focusedElement = document.activeElement as HTMLElement;\n      if (!isElementInScope(focusedElement, scopeRef.current)) {\n        return;\n      }\n\n      // Create a DOM tree walker that matches all tabbable elements\n      let walker = getFocusableTreeWalker(document.body, {tabbable: true});\n\n      // Find the next tabbable element after the currently focused element\n      walker.currentNode = focusedElement;\n      let nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as HTMLElement;\n\n      if (!document.body.contains(nodeToRestore) || nodeToRestore === document.body) {\n        nodeToRestore = null;\n      }\n\n      // If there is no next element, or it is outside the current scope, move focus to the\n      // next element after the node to restore to instead.\n      if ((!nextElement || !isElementInScope(nextElement, scopeRef.current)) && nodeToRestore) {\n        walker.currentNode = nodeToRestore;\n\n        // Skip over elements within the scope, in case the scope immediately follows the node to restore.\n        do {\n          nextElement = (e.shiftKey ? walker.previousNode() : walker.nextNode()) as HTMLElement;\n        } while (isElementInScope(nextElement, scopeRef.current));\n\n        e.preventDefault();\n        e.stopPropagation();\n        if (nextElement) {\n          focusElement(nextElement, true);\n        } else {\n           // If there is no next element and the nodeToRestore isn't within a FocusScope (i.e. we are leaving the top level focus scope)\n           // then move focus to the body.\n           // Otherwise restore focus to the nodeToRestore (e.g menu within a popover -> tabbing to close the menu should move focus to menu trigger)\n          if (!isElementInAnyScope(nodeToRestore)) {\n            focusedElement.blur();\n          } else {\n            focusElement(nodeToRestore, true);\n          }\n        }\n      }\n    };\n\n    if (!contain) {\n      document.addEventListener('keydown', onKeyDown, true);\n    }\n\n    return () => {\n      if (!contain) {\n        document.removeEventListener('keydown', onKeyDown, true);\n      }\n\n      if (restoreFocus && nodeToRestore && isElementInScope(document.activeElement, scopeRef.current)) {\n        requestAnimationFrame(() => {\n          if (document.body.contains(nodeToRestore)) {\n            focusElement(nodeToRestore);\n          }\n        });\n      }\n    };\n  }, [scopeRef, restoreFocus, contain]);\n}\n\n/**\n * Create a [TreeWalker]{@link https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker}\n * that matches all focusable/tabbable elements.\n */\nexport function getFocusableTreeWalker(root: HTMLElement, opts?: FocusManagerOptions, scope?: HTMLElement[]) {\n  let selector = opts?.tabbable ? TABBABLE_ELEMENT_SELECTOR : FOCUSABLE_ELEMENT_SELECTOR;\n  let walker = document.createTreeWalker(\n    root,\n    NodeFilter.SHOW_ELEMENT,\n    {\n      acceptNode(node) {\n        // Skip nodes inside the starting node.\n        if (opts?.from?.contains(node)) {\n          return NodeFilter.FILTER_REJECT;\n        }\n\n        if ((node as HTMLElement).matches(selector)\n          && isElementVisible(node as HTMLElement)\n          && (!scope || isElementInScope(node as HTMLElement, scope))) {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n\n        return NodeFilter.FILTER_SKIP;\n      }\n    }\n  );\n\n  if (opts?.from) {\n    walker.currentNode = opts.from;\n  }\n\n  return walker;\n}\n\n/**\n * Creates a FocusManager object that can be used to move focus within an element.\n */\nexport function createFocusManager(ref: RefObject<HTMLElement>): FocusManager {\n  return {\n    focusNext(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      let {from, tabbable, wrap} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      }\n      let nextNode = walker.nextNode() as HTMLElement;\n      if (!nextNode && wrap) {\n        walker.currentNode = root;\n        nextNode = walker.nextNode() as HTMLElement;\n      }\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusPrevious(opts: FocusManagerOptions = {}) {\n      let root = ref.current;\n      let {from, tabbable, wrap} = opts;\n      let node = from || document.activeElement;\n      let walker = getFocusableTreeWalker(root, {tabbable});\n      if (root.contains(node)) {\n        walker.currentNode = node;\n      } else {\n        let next = last(walker);\n        if (next) {\n          focusElement(next, true);\n        }\n        return next;\n      }\n      let previousNode = walker.previousNode() as HTMLElement;\n      if (!previousNode && wrap) {\n        walker.currentNode = root;\n        previousNode = last(walker);\n      }\n      if (previousNode) {\n        focusElement(previousNode, true);\n      }\n      return previousNode;\n    },\n    focusFirst(opts = {}) {\n      let root = ref.current;\n      let {tabbable} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable});\n      let nextNode = walker.nextNode() as HTMLElement;\n      if (nextNode) {\n        focusElement(nextNode, true);\n      }\n      return nextNode;\n    },\n    focusLast(opts = {}) {\n      let root = ref.current;\n      let {tabbable} = opts;\n      let walker = getFocusableTreeWalker(root, {tabbable});\n      let next = last(walker);\n      if (next) {\n        focusElement(next, true);\n      }\n      return next;\n    }\n  };\n}\n\nfunction last(walker: TreeWalker) {\n  let next: HTMLElement;\n  let last: HTMLElement;\n  do {\n    last = walker.lastChild() as HTMLElement;\n    if (last) {\n      next = last;\n    }\n  } while (last);\n  return next;\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusWithoutScrolling, runAfterTransition} from '@react-aria/utils';\nimport {getInteractionModality} from '@react-aria/interactions';\n\n/**\n * A utility function that focuses an element while avoiding undesired side effects such\n * as page scrolling and screen reader issues with CSS transitions.\n */\nexport function focusSafely(element: HTMLElement) {\n  // If the user is interacting with a virtual cursor, e.g. screen reader, then\n  // wait until after any animated transitions that are currently occurring on\n  // the page before shifting focus. This avoids issues with VoiceOver on iOS\n  // causing the page to scroll when moving focus if the element is transitioning\n  // from off the screen.\n  if (getInteractionModality() === 'virtual') {\n    let lastFocusedElement = document.activeElement;\n    runAfterTransition(() => {\n      // If focus did not move and the element is still in the document, focus it.\n      if (document.activeElement === lastFocusedElement && document.contains(element)) {\n        focusWithoutScrolling(element);\n      }\n    });\n  } else {\n    focusWithoutScrolling(element);\n  }\n}\n","/*\n * Copyright 2021 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction isStyleVisible(element: Element) {\n  if (!(element instanceof HTMLElement) && !(element instanceof SVGElement)) {\n    return false;\n  }\n\n  let {display, visibility} = element.style;\n\n  let isVisible = (\n    display !== 'none' &&\n    visibility !== 'hidden' &&\n    visibility !== 'collapse'\n  );\n\n  if (isVisible) {\n    const {getComputedStyle} = element.ownerDocument.defaultView;\n    let {display: computedDisplay, visibility: computedVisibility} = getComputedStyle(element);\n\n    isVisible = (\n      computedDisplay !== 'none' &&\n      computedVisibility !== 'hidden' &&\n      computedVisibility !== 'collapse'\n    );\n  }\n\n  return isVisible;\n}\n\nfunction isAttributeVisible(element: Element, childElement?: Element) {\n  return (\n    !element.hasAttribute('hidden') &&\n    (element.nodeName === 'DETAILS' &&\n      childElement &&\n      childElement.nodeName !== 'SUMMARY'\n      ? element.hasAttribute('open')\n      : true)\n  );\n}\n\n/**\n * Adapted from https://github.com/testing-library/jest-dom and \n * https://github.com/vuejs/vue-test-utils-next/.\n * Licensed under the MIT License.\n * @param element - Element to evaluate for display or visibility.\n */  \nexport function isElementVisible(element: Element, childElement?: Element) {\n  return (\n    element.nodeName !== '#comment' &&\n    isStyleVisible(element) &&\n    isAttributeVisible(element, childElement) &&\n    (!element.parentElement || isElementVisible(element.parentElement, element))\n  );\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport clsx from 'clsx';\nimport {mergeProps} from '@react-aria/utils';\nimport React, {ReactElement} from 'react';\nimport {useFocusRing} from './useFocusRing';\n\ninterface FocusRingProps {\n  /** Child element to apply CSS classes to. */\n  children: ReactElement,\n  /** CSS class to apply when the element is focused. */\n  focusClass?: string,\n  /** CSS class to apply when the element has keyboard focus. */\n  focusRingClass?: string,\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default false\n   */\n  within?: boolean,\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\n/**\n * A utility component that applies a CSS class when an element has keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function FocusRing(props: FocusRingProps) {\n  let {children, focusClass, focusRingClass} = props;\n  let {isFocused, isFocusVisible, focusProps} = useFocusRing(props);\n  let child = React.Children.only(children);\n\n  return React.cloneElement(child, mergeProps(child.props, {\n    ...focusProps,\n    className: clsx({\n      [focusClass || '']: isFocused,\n      [focusRingClass || '']: isFocusVisible\n    })\n  }));\n}\n","import {HTMLAttributes, useState} from 'react';\nimport {isFocusVisible, useFocus, useFocusVisibleListener, useFocusWithin} from '@react-aria/interactions';\nimport {useRef} from 'react';\n\ninterface FocusRingProps {\n  /**\n   * Whether to show the focus ring when something\n   * inside the container element has focus (true), or\n   * only if the container itself has focus (false).\n   * @default 'false'\n   */\n  within?: boolean,\n\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\ninterface FocusRingAria {\n  /** Whether the element is currently focused. */\n  isFocused: boolean,\n\n  /** Whether keyboard focus should be visible. */\n  isFocusVisible: boolean,\n\n  /** Props to apply to the container element with the focus ring. */\n  focusProps: HTMLAttributes<HTMLElement>\n}\n\n/**\n * Determines whether a focus ring should be shown to indicate keyboard focus.\n * Focus rings are visible only when the user is interacting with a keyboard,\n * not with a mouse, touch, or other input methods.\n */\nexport function useFocusRing(props: FocusRingProps = {}): FocusRingAria {\n  let {\n    autoFocus = false,\n    isTextInput,\n    within\n  } = props;\n  let state = useRef({\n    isFocused: false,\n    isFocusVisible: autoFocus || isFocusVisible()\n  }).current;\n  let [isFocused, setFocused] = useState(false);\n  let [isFocusVisibleState, setFocusVisible] = useState(() => state.isFocused && state.isFocusVisible);\n\n  let updateState = () => setFocusVisible(state.isFocused && state.isFocusVisible);\n\n  let onFocusChange = isFocused => {\n    state.isFocused = isFocused;\n    setFocused(isFocused);\n    updateState();\n  };\n\n  useFocusVisibleListener((isFocusVisible) => {\n    state.isFocusVisible = isFocusVisible;\n    updateState();\n  }, [], {isTextInput});\n\n  let {focusProps} = useFocus({\n    isDisabled: within,\n    onFocusChange\n  });\n\n  let {focusWithinProps} = useFocusWithin({\n    isDisabled: !within,\n    onFocusWithinChange: onFocusChange\n  });\n\n  return {\n    isFocused,\n    isFocusVisible: state.isFocused && isFocusVisibleState,\n    focusProps: within ? focusWithinProps : focusProps\n  };\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FocusableDOMProps, FocusableProps} from '@react-types/shared';\nimport {mergeProps, useSyncRef} from '@react-aria/utils';\nimport React, {HTMLAttributes, MutableRefObject, ReactNode, RefObject, useContext, useEffect, useRef} from 'react';\nimport {useFocus, useKeyboard} from '@react-aria/interactions';\n\ninterface FocusableOptions extends FocusableProps, FocusableDOMProps {\n  /** Whether focus should be disabled. */\n  isDisabled?: boolean\n}\n\ninterface FocusableProviderProps extends HTMLAttributes<HTMLElement> {\n  /** The child element to provide DOM props to. */\n  children?: ReactNode\n}\n\ninterface FocusableContextValue extends FocusableProviderProps {\n  ref?: MutableRefObject<HTMLElement>\n}\n\nlet FocusableContext = React.createContext<FocusableContextValue>(null);\n\nfunction useFocusableContext(ref: RefObject<HTMLElement>): FocusableContextValue {\n  let context = useContext(FocusableContext) || {};\n  useSyncRef(context, ref);\n\n  // eslint-disable-next-line\n  let {ref: _, ...otherProps} = context;\n  return otherProps;\n}\n\n/**\n * Provides DOM props to the nearest focusable child.\n */\nfunction FocusableProvider(props: FocusableProviderProps, ref: RefObject<HTMLElement>) {\n  let {children, ...otherProps} = props;\n  let context = {\n    ...otherProps,\n    ref\n  };\n\n  return (\n    <FocusableContext.Provider value={context}>\n      {children}\n    </FocusableContext.Provider>\n  );\n}\n\nlet _FocusableProvider = React.forwardRef(FocusableProvider);\nexport {_FocusableProvider as FocusableProvider};\n\n/**\n * Used to make an element focusable and capable of auto focus.\n */\nexport function useFocusable(props: FocusableOptions, domRef: RefObject<HTMLElement>) {\n  let {focusProps} = useFocus(props);\n  let {keyboardProps} = useKeyboard(props);\n  let interactions = mergeProps(focusProps, keyboardProps);\n  let domProps = useFocusableContext(domRef);\n  let interactionProps = props.isDisabled ? {} : domProps;\n  let autoFocusRef = useRef(props.autoFocus);\n\n  useEffect(() => {\n    if (autoFocusRef.current && domRef.current) {\n      domRef.current.focus();\n    }\n    autoFocusRef.current = false;\n  }, []);\n\n  return {\n    focusableProps: mergeProps(\n      {\n        ...interactions,\n        tabIndex: props.excludeFromTabOrder && !props.isDisabled ? -1 : undefined\n      },\n      interactionProps\n    )\n  };\n}\n"]},"metadata":{},"sourceType":"module"}